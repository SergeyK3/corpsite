# ADR-004: Error Codes Registry & Versioning

**Статус:** Accepted  
**Дата:** 2026-01-09  
**Контекст системы:** Corpsite API (Tasks / Workflow / RBAC)  
**Связанные решения:** ADR-003 (HTTP Error Semantics)

---

## Контекст

После внедрения унифицированной семантики ошибок (ADR-003) API использует
структурированные ответы с полем `code` для бизнес-ошибок (403 / 409).

Для устойчивости интеграций (Web UI, Telegram-бот, автотесты) требуется:

- единый реестр кодов ошибок (Single Source of Truth);
- строгие правила совместимости;
- предсказуемое версионирование;
- запрет «случайных» изменений кодов.

Фактическая реализация реестра размещена в `app/errors.py`.

---

## Решение

### 1. Единый источник истины

Единственным источником кодов ошибок является файл:
